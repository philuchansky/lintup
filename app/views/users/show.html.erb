<div class="col-xs-12">
    <div class="card hovercard">
        <div class="card-background">
            <!--<img class="card-bkimg" alt="" src="http://lorempixel.com/100/100/people/9/">-->
            <!-- http://lorempixel.com/850/280/people/9/ -->
            <%= image_tag @user.gravatar_url, class: 'card-bkimg' %>


        </div>
        <div class="useravatar">
            <%= image_tag @user.gravatar_url %>
        </div>
        <div class="card-info"> <span class="card-title">Pamela Anderson</span>

        </div>
    </div>
    <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
        <div class="btn-group" role="group">
            <button type="button" id="stars" class="btn btn-primary" href="#tab1" data-toggle="tab"><span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                <div class="hidden-xs">Snippets</div>
            </button>
        </div>
        <div class="btn-group" role="group">
            <button type="button" id="favorites" class="btn btn-default" href="#tab2" data-toggle="tab"><span class="glyphicon glyphicon-heart" aria-hidden="true"></span>
                <div class="hidden-xs">Favorites</div>
            </button>
        </div>

    </div>

    <div class="well">
        <div class="tab-content">
            <div class="tab-pane fade in active" id="tab1">
                <h3>This is tab 1</h3>
            </div>
            <div class="tab-pane fade in" id="tab2">
                <h3>This is tab 2</h3>
            </div>
            <div class="tab-pane fade in" id="tab3">
                <h3>This is tab 3</h3>
            </div>
        </div>
    </div>

</div>

<h1><%= "#{@user.fname} #{@user.lname}"%></h1>
<h2><%= @user.username %></h2>
<h3>Snippets: <%= @user.snippets.count %></h3>
Session ID: <%= session[:user_id] %>|
User ID Param: <%= params[:id] %>
<% if session[:user_id] == @user.id%>
	<%= link_to 'Account Settings', edit_user_path %>
<% end %>

<% if @user.github_username %>
	<a href="http://github.com/<%= @user.github_username %>" target="_blank">Github</a>
<% end %>


<div class="snippets">
<% @user.snippets.order("created_at DESC").each do |s| %>
		<hr>
    <div class="snippet">
	    <h3><%= link_to s.title, snippet_path(s.id) %></h3>
	    <h5><%= time_ago_in_words(s.created_at) %></h5>
	    <h4>Language: <%= language_modes.find {|language| language[:language_mode] == s.language}[:name] %></h4>
	    <div>Likes: <%= s.likes.count %></div>

	    <textarea disabled id="snippet-<%= s.id %>"><%= s.content %></textarea>

        <% if logged_in? %>
            <% if current_user.id == s.user.id %>
                <%= link_to 'Edit', edit_snippet_path(s.id) %> | <%= link_to 'Delete', delete_snippet_path(s.id) %>
            <% else %>
                <% if current_user.already_likes?(s) %>
                    <%= link_to 'Unlike', controller: 'likes', action: 'destroy', id: s.id %>
                <% else %>
                    <%= link_to 'Like', controller: 'likes', action: 'create', id: s.id %>
                <% end %>
            <% end %>
        <% end %>


    </div>
    <script>
	    $(function(){
		    var textArea = document.getElementById('snippet-<%= s.id %>');
		    var myCodeMirror = CodeMirror.fromTextArea(textArea, {
			    lineNumbers: true,
			    theme: 'monokai',
			    lineWrapping: true,
			    readOnly: true,
			    mode: '<%= s.language %>'
		    });


		    $(".btn-pref .btn").click(function () {
			    $(".btn-pref .btn").removeClass("btn-primary").addClass("btn-default");
			    // $(".tab").addClass("active"); // instead of this do the below
			    $(this).removeClass("btn-default").addClass("btn-primary");
		    });
	    })
    </script>
<% end %>
</div>

